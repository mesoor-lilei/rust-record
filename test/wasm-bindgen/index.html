<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>Wasm</title>
	<style>
		html, body {
			height: 100%;
		}

		textarea {
			width: 100%;
			height: 50%;
		}

		button {
			font-size: 2rem;
		}
	</style>
</head>
<body>
<label>
	<textarea id="text">{"key":"value"}</textarea>
</label>
<button id="expand">expand</button>
<button id="collapse">collapse</button>
<script type="module">
	import init, {expand, collapse} from './pkg/wasm_bindgen_record.js'

	const expandButton = document.getElementById('expand')
	const collapseButton = document.getElementById('collapse')
	const text = document.getElementById('text')

	init().then(() => {
		expandButton.onclick = () => text.value = expand(text.value)
		collapseButton.onclick = () => text.value = collapse(text.value)
	})
</script>
</body>
</html>
